{{define "content"}}
<div class="row justify-content-center">
    <div class="col-md-10">
        <div class="card shadow-sm border-0 shadow" style="border-top: 5px solid #ffc107 !important;">
            <div class="card-header bg-white d-flex justify-content-between align-items-center py-3">
                <h4 class="mb-0 fw-bold" style="color: #856404;">
                    <i class="bi bi-file-earmark-code-fill me-2"></i>Page - æ§‹é€ åŒ–å°æœ¬ã‹ã‚‰ãƒšãƒ¼ã‚¸æ§‹æˆ
                </h4>
                <span class="badge bg-warning text-dark">MangaResponse JSON Mode</span>
            </div>
            <div class="card-body bg-white">
                <form action="/generate" method="POST">
                    <input type="hidden" name="command" value="page">

                    <div class="mb-3">
                        <label class="form-label fw-bold">MangaResponse JSON (å°æœ¬ãƒ‡ãƒ¼ã‚¿)</label>
                        <textarea name="input_text" class="form-control json-editor-area" rows="20"
                                  placeholder='{
  "title": "é‹¼é‰„ã®ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼",
  "description": "æŠ€è¡“è§£èª¬æ¼«ç”»ã®ç¬¬ä¸€è©±ãªã®ã ",
  "panels": [
    {
      "page": 1,
      "visual_anchor": "90s retro anime style, Metan looking at screen",
      "dialogue": "ã“ã‚ŒãŒæ¬¡ä¸–ä»£ã®å·¥å» ã‚ˆã€‚",
      "speaker_id": "metan",
      "reference_url": "gs://bucket/assets/metan_design.png"
    }
  ]
}' required></textarea>

                        <div class="alert alert-light border-start border-4 border-warning mt-3 py-3 shadow-sm">
                            <div class="fw-bold mb-2 text-dark">
                                <i class="bi bi-diagram-3"></i> ğŸ’¡ æ§‹é€ ä½“å®šç¾©ã®è§£èª¬:
                            </div>
                            <ul class="mb-0 small text-muted" style="line-height: 1.6;">
                                <li><code>panels[]</code> â€” 1ã¤1ã¤ã®ã‚³ãƒï¼ˆãƒ‘ãƒãƒ«ï¼‰ã®é…åˆ—ãªã®ã ã€‚</li>
                                <li><code>visual_anchor</code> â€” ç”»åƒç”Ÿæˆæ™‚ã®æ ¸ã¨ãªã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŒ‡ç¤ºãªã®ã ã€‚</li>
                                <li><code>speaker_id</code> â€” ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ç‰¹å®šã™ã‚‹DNAIDãªã®ã ã€‚</li>
                            </ul>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label fw-bold">ç”Ÿæˆãƒ¢ãƒ¼ãƒ‰ (Execution Mode)</label>
                            <select name="mode" class="form-select">
                                <option value="standard" selected>æ¨™æº– (Standard)</option>
                                <option value="precise">è©³ç´°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ (Precise)</option>
                                <option value="re-generate">ç”»åƒå†ç”Ÿæˆ (Re-generate)</option>
                            </select>
                        </div>
                    </div>

                    <div class="d-grid gap-2 mt-4">
                        <button type="submit" class="btn btn-warning btn-lg text-dark fw-bold border-0 shadow-sm py-3">
                            <i class="bi bi-cpu-fill me-2"></i>å°æœ¬ãƒ‡ãƒ¼ã‚¿ã‚’æ³¨å…¥ã—ã¦éŒ¬æˆé–‹å§‹ãªã®ã ï¼
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<style>
    /* ã‚¨ãƒ‡ã‚£ã‚¿å°‚ç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ«ã€‚Bootstrapã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ !important ã§ä¸Šæ›¸ãã™ã‚‹ã®ã ï¼ */
    .json-editor-area {
        font-family: 'Fira Code', 'Cascadia Code', Consolas, monospace !important;
        background-color: #1e1e1e !important;
        color: #d4d4d4 !important; /* å…¥åŠ›æ–‡å­—ï¼šæ˜ã‚‹ã„ã‚°ãƒ¬ãƒ¼ */
        line-height: 1.5;
        padding: 1.5rem;
        border: 1px solid #333 !important;
    }

    /* ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼ˆåˆæœŸè¡¨ç¤ºï¼‰ã®è‰²ã‚’èª¿æ•´ãªã®ã  */
    .json-editor-area::placeholder {
        color: #6a9955 !important; /* VSCodeé¢¨ã®ç·‘è‰²ã‚³ãƒ¡ãƒ³ãƒˆé¢¨ã«ã™ã‚‹ã®ã  */
        opacity: 0.7;
    }

    /* ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã‚‚è‰²ãŒå¤‰ã‚ã‚‰ãªã„ã‚ˆã†ã«å›ºå®šã™ã‚‹ã®ã  */
    .json-editor-area:focus {
        background-color: #1e1e1e !important;
        color: #ffffff !important;
        border-color: #ffc107 !important;
        box-shadow: 0 0 0 0.25rem rgba(255, 193, 7, 0.25);
    }
</style>
{{end}}
